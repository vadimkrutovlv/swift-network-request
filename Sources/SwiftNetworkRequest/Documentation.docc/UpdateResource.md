#  Updating an Existing Resource
Learn how to update an existing resource.

## Overview

The **@Put** macro generates Swift code for making HTTP **PUT** requests to a specified endpoint. It automatically creates request body structures, handles URL construction with path parameters, and provides a convenient `async` function for executing the request.

## Usage

Use the **@Put** macro to generate an instance method for updating an existing resource.

### Basic Usage

Consider this data model, which can fetch and then update a resource.

```swift
@Get(url: "https://api.example.com/posts/:id")
@Put(url: "https://api.example.com/posts/:id")
struct Post {
    @ExcludeFromRequest let id: Int
    var title: String
    var body: String
}
```

In order to update an existing post, you can first fetch it using the static method generated by the **@Get** macro. Then, modify the model and save the result:

```swift 
var existingPost = Post.get(id: "1")
existingPost.title = "Updated title"

try await existingPost.put()
```

### With Dynamic Headers

```swift
let customHeaders = [
    KeyValuePair(key: "X-Custom-Header", value: "CustomValue"),
    KeyValuePair(key: "Content-Type", value: "application/json")
]

try await existingPost.post(dynamicHeaders: customHeaders)
```

### With Dynamic Query Parameters

```swift
let queryParams = [
    KeyValuePair(key: "version", value: "1.0"),
    KeyValuePair(key: "format", value: "json")
]

try await existingPost.post(dynamicQueryParams: queryParams)
```

### With Both Dynamic Headers and Query Parameters

```swift
try await existingPost.post(
    dynamicHeaders: customHeaders,
    dynamicQueryParams: queryParams
)
```

Additionally, you can define default headers for every request by overriding the **request configuration** or **default authorization** properties. To learn more, refer to the <doc:RequestConfig> and <doc:Authorization> documentation.

## Path Parameters

The macro supports path parameters denoted by a colon prefix in the URL. In the examples shown above:

- `:id` -  is a path parameter that will be replaced with the actual **id** property value from the model when constructing the final URL.
- The final URL becomes: `https://jsonplaceholder.typicode.com/posts/{actualPostId}`

Path parameters are automatically extracted from the URL and used to build the complete endpoint URL at runtime.

**Important**: Path parameters must match property names defined in your model. If a path parameter doesn't correspond to an existing property, a compilation error will be thrown.


## Request Body

The macro automatically generates a `PutRequestBody` struct that conforms to `Codable` and `Equatable`. The request body is JSON-encoded and sent with the PUT request.

**Note**: Properties can be excluded from the generated request body by using the `@ExcludeFromRequest` macro. Any property marked with this macro will not be included in the `PutRequestBody` struct.

## Error Handling

The function is marked with `throws`, so wrap calls in a `do-catch` block for error handling:

```swift
do {
    try await postRequest.post()
    print("Post created successfully")
} catch {
    print("Failed to create post: \(error)")
}
```
